<!DOCTYPE html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> San Antonio Restaurants </title>
    <!-- Mapbox CSS -->
    <script src="js/keys.js"></script>
    <script src="js/mapbox-utils.js"></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet'/>
    <!-- Custom CSS -->
    <style>
        #map {
            /* the width and height may be set to any size */
            width: 100%;
            height: 700px;
        }
    </style>
</head>
<body>

<h1>San Antonio Restaurants!</h1>

<!-- The HTML element that serves as the Mapbox container -->
<div id='map'></div>


<!-- Mapbox JS -->
<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
<!-- Custom JS -->

<script>


    // Start Point
    mapboxgl.accessToken = mapbox_token;
    var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v9',
        zoom: 12,
        center: [-98.4916, 29.4252]
    });

    // Objects array
    var restaurants = [
        {
            name: "Mama Margies Mexican Restaurant",
            address: "9950, I-10, San Antonio, TX 78230",
            // image: <img src= ""
        },
        {
            name: "Fuddruckers",
            address: "9845 I-10, San Antonio, TX 78230",
            // image:
        },
        {
            name: "Samurai Sushi Restaurant",
            address: "2320 Babcock Rd, San Antonio, TX 78229",
            // image:
        }
    ];
    //

    // Loop pass through
    restaurants.forEach(function (restaurant) {
        // console.log(restaurant.address);
        var street = restaurant.address;

        // Display map
            geocode(street, mapbox_token).then(function (results) {
                // console.log(results);
                map.setCenter(results);
                // Popup comment
                var pop = new mapboxgl.Popup()
                    .setHTML(restaurant.name);


                // console.log(restaurant.name);
                //
                // Geo Marker
                var mark = new mapboxgl.Marker()
                    .setLngLat(results)
                    .setPopup(pop)
                    .addTo(map);

            });
    });


    //
    //
    // var perini_ranch = "3002 FM 89, Buffalo Gap, TX";
    // var perini_ranch_mark;
    // var mitsuwa = "100 Legacy Drive, Plano,TX";
    // var mitsuwa_mark;
    // var java_house = "Yaya Centre, Kenya";
    // var java_house_mark;
    //

    //

    //
    // var restaurants = [
    //     {
    //         perini_ranch: new mapboxgl.Popup()
    //             .setHTML("<h3>Perini Ranch Steakhouse</h3>"),
    //
    //         perini_ranch_mark: new mapboxgl.Marker()
    //             .setLngLat([-99.83254, 32.28802])
    //             .setPopup(perini_ranch)
    //             .addTo(map)
    //     },
    //     {
    //
    //         mitsuwa: new mapboxgl.Popup()
    //             .setHTML("<h3>Perini Ranch Steakhouse</h3>"),
    //
    //         mitsuwa_mark: new mapboxgl.Marker()
    //             .setLngLat([-99.83254, 32.28802])
    //             .setPopup(mitsuwa)
    //             .addTo(map)
    //     },
    //     {
    //
    //         java_house: new mapboxgl.Popup()
    //             .setHTML("<h3>Perini Ranch Steakhouse</h3>"),
    //
    //         java_house_mark: new mapboxgl.Marker()
    //             .setLngLat([-99.83254, 32.28802])
    //             .setPopup(java_house)
    //             .addTo(map)
    //     }
    // ];


</script>
</body>
</html>




